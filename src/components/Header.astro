---
import Facebook from "./Facebook.astro";
import Phone from "./Phone.astro";
import Instagram from "./Instagram.astro";
---

<header
  class="w-full flex justify-center items-center px-4 fixed top-0 right-0 z-[11] bg-[#13151acc] transition-all duration-300"
  id="header"
>
  <nav
    class="w-full flex justify-between items-center max-w-screen-xl h-14 lg:hidden"
  >
    <div class="flex justify-around items-center flex-col h-8" id="open">
      <span class="w-8 h-[2px] bg-white rounded-2xl"></span>
      <span class="w-8 h-[2px] bg-white rounded-2xl"></span>
      <span class="w-8 h-[2px] bg-white rounded-2xl"></span>
    </div>
    <img
      class="h-full w-auto"
      src="/logo.webp"
      alt="Logo Clear Dental"
      width="500"
      height="263"
      id="logo"
    />
    <a href="tel:5552905635" target="_blank" rel="noopener noreferrer"
      ><Phone class="w-7 text-white cursor-pointer" /></a
    >
  </nav>
  <nav
    class="hidden lg:w-full lg:flex lg:justify-around lg:items-center lg:max-w-[1400px] lg:h-20"
  >
    <div class="flex justify-center items-center">
      <a
        href="/"
        class="text-lg py-[10px] px-[15px] transition-all rounded-md hover:transition-all hover:text-yellow-500 hover:duration-200"
        >Inicio</a
      >
      <a
        href="#Servicios"
        class="text-lg py-[10px] px-[15px] transition-all rounded-md hover:transition-all hover:text-yellow-500 hover:duration-200"
        >Servicios</a
      >
      <a
        href="#Nosotros"
        class="text-lg py-[10px] px-[15px] transition-all rounded-md hover:transition-all hover:text-yellow-500 hover:duration-200"
        >Nosotros</a
      >
      <a
        href="#Casos"
        class="text-lg py-[10px] px-[15px] transition-all rounded-md hover:transition-all hover:text-yellow-500 hover:duration-200"
        >Casos</a
      >
    </div>
    <img
      src="/logo.webp"
      alt="Logo Clear Dental"
      class="h-full w-auto cursor-pointer"
      width="500"
      height="263"
      id="logo"
    />
    <div class="flex justify-center items-center">
      <a
        href="#Testimonios"
        class="text-lg py-[10px] px-[15px] transition-all rounded-md hover:transition-all hover:text-yellow-500 hover:duration-200"
        >Testimonios</a
      >
      <a
        href="https://wa.me/525552905635?text=Buenas%20tardes,%20solicito%20informaci%C3%B3n%20sobre"
        class="text-lg py-[10px] px-[15px] transition-all rounded-md hover:transition-all hover:text-yellow-500 hover:duration-200"
        target="_blank">Contacto</a
      >
      <div class="flex justify-center items-center py-[10px] px-[15px]">
        <a
          title="Ir a la p치gina de Facebook de Clear Dental"
          href="https://www.facebook.com/clear.dentalc/"
          class="group"
          target="_blank"
          rel="noopener noreferrer"
          ><Facebook
            class="w-8 transition mr-3 group-hover:fill-yellow-500"
          /></a
        >
        <a
          title="Ir a la p치gina de Instagram de Clear Dental"
          href="https://www.instagram.com/clear_dental01/?hl=es-la"
          class="group"
          target="_blank"
          rel="noopener noreferrer"
          ><Instagram class="w-8 transition group-hover:fill-yellow-500" /></a
        >
      </div>
    </div>
  </nav>
</header>
<section
  class="w-screen h-svh flex justify-center items-center flex-col bg-[url('/fondo.webp')] bg-center bg-cover fixed top-[-100svh] right-0 px-4 z-[1]"
  id="menu"
>
  <div
    class="w-screen h-svh bg-gray-800/60 flex justify-center items-center flex-col"
  >
    <nav
      class="flex justify-around items-center flex-col h-96 font-semibold text-xl"
      id="navmov"
    >
      <a href="/">Inicio</a>
      <a href="#Nosotros">Nosotros</a>
      <a href="#Servicios">Servicios</a>
      <a href="#Testimonios">Testimonios</a>
      <a href="#Casos">Casos</a>
      <a
        href="https://wa.me/525552905635?text=Buenas%20tardes,%20solicito%20informaci%C3%B3n%20sobre"
        class="px-[30px] py-[10px] background text-slate-800 md:text-white rounded-full"
        target="_blank">Contacto</a
      >
      <div class="flex justify-center items-center">
        <a
          title="Ir a la p치gina de Facebook de Clear Dental"
          href="https://www.facebook.com/clear.dentalc/"
          target="_blank"
          rel="noopener noreferrer"><Facebook class="w-8 text-white mr-3" /></a
        >
        <a
          title="Ir a la p치gina de Instagram de Clear Dental"
          href="https://www.instagram.com/clear_dental01/?hl=es-la"
          target="_blank"
          rel="noopener noreferrer"><Instagram class="w-8 text-white" /></a
        >
      </div>
    </nav>
  </div>
</section>
<style>
  .closemenu {
    animation: closeMenu 0.4s linear forwards;
  }
  .menu {
    animation: openMenu 0.4s linear forwards;
  }
  .header {
    background-color: transparent;
    transition: all 0.3s linear;
  }
  #open span {
    transition: all 0.4s linear;
  }
  .closeIcon span {
    transition: all 0.4s linear;
  }
  .closeIcon span:nth-child(1) {
    opacity: 0;
  }
  .closeIcon span:nth-child(2) {
    transform: rotate(45deg);
  }
  .closeIcon span:nth-child(3) {
    transform: rotate(135deg) translate(-7px, 6px);
  }
  .background {
    background: rgb(236, 222, 83);
    background: radial-gradient(
      circle,
      rgba(236, 222, 83, 1) 0%,
      rgba(201, 151, 46, 1) 100%
    );
    transition: all 0.275s ease-in-out;
  }
  .background:hover {
    transition: all 0.275s ease-in-out;
    transform: scale(1.1);
  }
  @keyframes openMenu {
    100% {
      top: 0;
    }
  }
  @keyframes closeMenu {
    0% {
      top: 0;
    }
    100% {
      top: -100svh;
    }
  }
</style>
<script>
  const logo = document.querySelectorAll("#logo");
  const header = document.getElementById("header");
  const open = document.getElementById("open");
  const menu = document.getElementById("menu");
  const navmov = document.querySelectorAll("a");

  logo.forEach((item) =>
    item.addEventListener("click", () => {
      location.assign("/");
    }),
  );

  open?.addEventListener("click", () => {
    open.classList.toggle("closeIcon");
    header?.classList.toggle("header");
    if (menu?.classList.contains("menu")) {
      menu?.classList.remove("menu");
      menu?.classList.add("closemenu");
    } else {
      menu?.classList.add("menu");
      menu?.classList.remove("closemenu");
    }
  });

  navmov.forEach((item) =>
    item.addEventListener("click", () => {
      header?.classList.toggle("header");
      open?.classList.toggle("closeIcon");
      menu?.classList.remove("menu");
      menu?.classList.add("closemenu");
    }),
  );
</script>
